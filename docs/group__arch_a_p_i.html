<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.8"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>ETA/OS: Architecture API</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="doxygen-bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
		<div class="row">
		    <div class="col-sm-2 logo">
			<img class="logo" alt="Logo" src="etaos-logo.svg"/>
		    </div>
		    <div class="col-sm-2 project-number">
                        <a class="navbar-brand">5.0.1</a>
		    </div>
	        </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Architecture API</div>  </div>
</div><!--header-->
<div class="contents">

<p>API to access the architecture of the system.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac4164aa469d190964a6def1e29650e90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#gac4164aa469d190964a6def1e29650e90">arch_delay_us</a> (double us)</td></tr>
<tr class="memdesc:gac4164aa469d190964a6def1e29650e90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arch backend for micro second delays.  <a href="#gac4164aa469d190964a6def1e29650e90">More...</a><br /></td></tr>
<tr class="separator:gac4164aa469d190964a6def1e29650e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09fe2982d63e7311c8b6ce8a7238bf23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga09fe2982d63e7311c8b6ce8a7238bf23">cpu_request_irq</a> (struct <a class="el" href="structirq__data.html">irq_data</a> *data)</td></tr>
<tr class="memdesc:ga09fe2982d63e7311c8b6ce8a7238bf23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the hardware registers for the IRQ.  <a href="#ga09fe2982d63e7311c8b6ce8a7238bf23">More...</a><br /></td></tr>
<tr class="separator:ga09fe2982d63e7311c8b6ce8a7238bf23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaddf161a845a51a829878634b612b3b5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a">arch_irq_restore_flags</a> (unsigned long *flags)</td></tr>
<tr class="memdesc:gaddf161a845a51a829878634b612b3b5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore the IRQ flags.  <a href="#gaddf161a845a51a829878634b612b3b5a">More...</a><br /></td></tr>
<tr class="separator:gaddf161a845a51a829878634b612b3b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53732d1458648e51671e939c0a929c75"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75">arch_irq_get_flags</a> ()</td></tr>
<tr class="memdesc:ga53732d1458648e51671e939c0a929c75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the IRQ flags.  <a href="#ga53732d1458648e51671e939c0a929c75">More...</a><br /></td></tr>
<tr class="separator:ga53732d1458648e51671e939c0a929c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe72a49160d521a33bb905eca461a3d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafe72a49160d521a33bb905eca461a3d6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6">arch_irq_disable</a> ()</td></tr>
<tr class="memdesc:gafe72a49160d521a33bb905eca461a3d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the global interrupts. <br /></td></tr>
<tr class="separator:gafe72a49160d521a33bb905eca461a3d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d015cd8c02643c75dc201e3a44b1274"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8d015cd8c02643c75dc201e3a44b1274"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga8d015cd8c02643c75dc201e3a44b1274">arch_irq_enable</a> ()</td></tr>
<tr class="memdesc:ga8d015cd8c02643c75dc201e3a44b1274"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the global interrupts. <br /></td></tr>
<tr class="separator:ga8d015cd8c02643c75dc201e3a44b1274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8dbe884044fef457666a085e8f2607df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8dbe884044fef457666a085e8f2607df"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga8dbe884044fef457666a085e8f2607df">arch_local_irq_enable</a> ()</td></tr>
<tr class="memdesc:ga8dbe884044fef457666a085e8f2607df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arch backend of <a class="el" href="group__irq.html#gac066711b49669512add5b001bba1d72a" title="Enable the IRQ&#39;s on the current CPU. ">local_irq_enable()</a> <br /></td></tr>
<tr class="separator:ga8dbe884044fef457666a085e8f2607df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ff9d817d496444aee5a3505e705ecce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6ff9d817d496444aee5a3505e705ecce"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga6ff9d817d496444aee5a3505e705ecce">arch_local_irq_disable</a> ()</td></tr>
<tr class="memdesc:ga6ff9d817d496444aee5a3505e705ecce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arch backend of <a class="el" href="group__irq.html#gaa11d4c3eea0645f001887fa1d4d35fbb" title="Disable the IRQ&#39;s on the current CPU. ">local_irq_disable()</a> <br /></td></tr>
<tr class="separator:ga6ff9d817d496444aee5a3505e705ecce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a7979c2e0c424ad4dd857e4fa455a12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga3a7979c2e0c424ad4dd857e4fa455a12">raw_irq_enabled_flags</a> (unsigned long *flags)</td></tr>
<tr class="memdesc:ga3a7979c2e0c424ad4dd857e4fa455a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the interrupts are enabled.  <a href="#ga3a7979c2e0c424ad4dd857e4fa455a12">More...</a><br /></td></tr>
<tr class="separator:ga3a7979c2e0c424ad4dd857e4fa455a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga353087fc5cc6faea34c6591d370e3e83"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structirq__chip.html">irq_chip</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga353087fc5cc6faea34c6591d370e3e83">arch_get_irq_chip</a> (void)</td></tr>
<tr class="memdesc:ga353087fc5cc6faea34c6591d370e3e83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the architecture specific IRQ chip.  <a href="#ga353087fc5cc6faea34c6591d370e3e83">More...</a><br /></td></tr>
<tr class="separator:ga353087fc5cc6faea34c6591d370e3e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86150eb1ffba3e876d2beeb0990cf7bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga86150eb1ffba3e876d2beeb0990cf7bc">arch_hibernate</a> (void)</td></tr>
<tr class="memdesc:ga86150eb1ffba3e876d2beeb0990cf7bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hibernate the <a class="el" href="class_c_p_u.html" title="Utility class to provide access to hardware. ">CPU</a> into the selected power mode.  <a href="#ga86150eb1ffba3e876d2beeb0990cf7bc">More...</a><br /></td></tr>
<tr class="separator:ga86150eb1ffba3e876d2beeb0990cf7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea3e0f2e5e91e321ef8b0ace0d766d3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#gaea3e0f2e5e91e321ef8b0ace0d766d3b">arch_set_power_mode</a> (int mode)</td></tr>
<tr class="memdesc:gaea3e0f2e5e91e321ef8b0ace0d766d3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select a power mode to hibernate into.  <a href="#gaea3e0f2e5e91e321ef8b0ace0d766d3b">More...</a><br /></td></tr>
<tr class="separator:gaea3e0f2e5e91e321ef8b0ace0d766d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45e277ef6f2d431ec2bf827fe3fe1127"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga45e277ef6f2d431ec2bf827fe3fe1127"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga45e277ef6f2d431ec2bf827fe3fe1127">cpu_get_id</a> (void)</td></tr>
<tr class="memdesc:ga45e277ef6f2d431ec2bf827fe3fe1127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ID of the current <a class="el" href="class_c_p_u.html" title="Utility class to provide access to hardware. ">CPU</a>. <br /></td></tr>
<tr class="separator:ga45e277ef6f2d431ec2bf827fe3fe1127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ca01585011904bb8042cbb540be767e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structclocksource.html">clocksource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga3ca01585011904bb8042cbb540be767e">sched_get_clock</a> (void)</td></tr>
<tr class="memdesc:ga3ca01585011904bb8042cbb540be767e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the scheduling clock source.  <a href="#ga3ca01585011904bb8042cbb540be767e">More...</a><br /></td></tr>
<tr class="separator:ga3ca01585011904bb8042cbb540be767e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc3ea24600f8a7b491077f26ccbbd5c8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrq.html">rq</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8">cpu_to_rq</a> (int cpu)</td></tr>
<tr class="memdesc:gabc3ea24600f8a7b491077f26ccbbd5c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the RQ of the given cpu.  <a href="#gabc3ea24600f8a7b491077f26ccbbd5c8">More...</a><br /></td></tr>
<tr class="separator:gabc3ea24600f8a7b491077f26ccbbd5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga224ed7aae41f53a7d6f579ebbf3ba7fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga224ed7aae41f53a7d6f579ebbf3ba7fe"></a>
struct <a class="el" href="structrq.html">rq</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe">sched_get_cpu_rq</a> (void)</td></tr>
<tr class="memdesc:ga224ed7aae41f53a7d6f579ebbf3ba7fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the run queue of the current <a class="el" href="class_c_p_u.html" title="Utility class to provide access to hardware. ">CPU</a>. <br /></td></tr>
<tr class="separator:ga224ed7aae41f53a7d6f579ebbf3ba7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab090ee79717fcdd58de691ed935f6445"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrq.html">rq</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#gab090ee79717fcdd58de691ed935f6445">sched_select_rq</a> (void)</td></tr>
<tr class="memdesc:gab090ee79717fcdd58de691ed935f6445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select a run queue to add a thread to.  <a href="#gab090ee79717fcdd58de691ed935f6445">More...</a><br /></td></tr>
<tr class="separator:gab090ee79717fcdd58de691ed935f6445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa79e3c72ee6f1dee4720d0f00958009b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b">cpu_switch_context</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *prev, struct <a class="el" href="structthread.html">thread</a> *next)</td></tr>
<tr class="memdesc:gaa79e3c72ee6f1dee4720d0f00958009b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reschedule the <a class="el" href="class_c_p_u.html" title="Utility class to provide access to hardware. ">CPU</a>.  <a href="#gaa79e3c72ee6f1dee4720d0f00958009b">More...</a><br /></td></tr>
<tr class="separator:gaa79e3c72ee6f1dee4720d0f00958009b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed72f26eb7fa076193388c2200e2571a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#gaed72f26eb7fa076193388c2200e2571a">sched_create_stack_frame</a> (struct <a class="el" href="structthread.html">thread</a> *tp, stack_t *stack, <a class="el" href="include_2etaos_2types_8h.html#a87dc151519afbd8c4fb19730a4b0e0db">size_t</a> stack_size, <a class="el" href="group__thread.html#gace878050e933ac56f0a7f858cba29dc6">thread_handle_t</a> handle)</td></tr>
<tr class="memdesc:gaed72f26eb7fa076193388c2200e2571a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the stack from of a thread.  <a href="#gaed72f26eb7fa076193388c2200e2571a">More...</a><br /></td></tr>
<tr class="separator:gaed72f26eb7fa076193388c2200e2571a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf680731a9b2e0753de2dfa185b0a13d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch_a_p_i.html#gaf680731a9b2e0753de2dfa185b0a13d2">sched_free_stack_frame</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:gaf680731a9b2e0753de2dfa185b0a13d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a stack frame.  <a href="#gaf680731a9b2e0753de2dfa185b0a13d2">More...</a><br /></td></tr>
<tr class="separator:gaf680731a9b2e0753de2dfa185b0a13d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>API to access the architecture of the system. </p>
<p>All architectures have to implement atleast this API to compile the rest of ETA/OS succesfully.</p>
<h1><a class="anchor" id="Stacks"></a>
Stacks</h1>
<p>Stacks are generally allocated by the responsible subsystem. This can be a device driver, the application or in the case of the idle stack the scheduling core. This is not true for the main stack. The main stack is the stack that is used to run the thread that eventually calls the <code>main()</code> function. The architecture API is responsible for the provision of pointer to the starting address of the main stack called <code>main_stack_ptr_start</code>. The end address of this memory region should be <code>main_stack_ptr_start + CONFIG_STACK_SIZE</code>. How this stack is allocated is entirely up to the implementation of the architecture. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac4164aa469d190964a6def1e29650e90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arch_delay_us </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arch backend for micro second delays. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">us</td><td>Amount of micro seconds to delay. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga353087fc5cc6faea34c6591d370e3e83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structirq__chip.html">irq_chip</a>* arch_get_irq_chip </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the architecture specific IRQ chip. </p>
<dl class="section return"><dt>Returns</dt><dd>The arch IRQ chip.</dd></dl>
<p>Get the architecture specific IRQ chip.</p>
<dl class="section return"><dt>Returns</dt><dd>ATmega AVR IRQ chip. </dd></dl>

</div>
</div>
<a class="anchor" id="ga86150eb1ffba3e876d2beeb0990cf7bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arch_hibernate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hibernate the <a class="el" href="class_c_p_u.html" title="Utility class to provide access to hardware. ">CPU</a> into the selected power mode. </p>
<dl class="section note"><dt>Note</dt><dd>This function is blocking, based on the selected mode. </dd></dl>

</div>
</div>
<a class="anchor" id="ga53732d1458648e51671e939c0a929c75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long arch_irq_get_flags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the IRQ flags. </p>
<dl class="section return"><dt>Returns</dt><dd>IRQ flags. </dd></dl>

</div>
</div>
<a class="anchor" id="gaddf161a845a51a829878634b612b3b5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arch_irq_restore_flags </td>
          <td>(</td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore the IRQ flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>IRQ flags which have to be restored. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__arch_a_p_i_gaddf161a845a51a829878634b612b3b5a_cgraph.png" border="0" usemap="#group__arch_a_p_i_gaddf161a845a51a829878634b612b3b5a_cgraph" alt=""/></div>
<map name="group__arch_a_p_i_gaddf161a845a51a829878634b612b3b5a_cgraph" id="group__arch_a_p_i_gaddf161a845a51a829878634b612b3b5a_cgraph">
<area shape="rect" id="node2" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="204,5,269,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaea3e0f2e5e91e321ef8b0ace0d766d3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arch_set_power_mode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select a power mode to hibernate into. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Power saving mode to select. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga09fe2982d63e7311c8b6ce8a7238bf23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpu_request_irq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structirq__data.html">irq_data</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the hardware registers for the IRQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>IRQ data structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa79e3c72ee6f1dee4720d0f00958009b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpu_switch_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reschedule the <a class="el" href="class_c_p_u.html" title="Utility class to provide access to hardware. ">CPU</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue requesting the context switch. </td></tr>
    <tr><td class="paramname">prev</td><td>Previously running thread. </td></tr>
    <tr><td class="paramname">next</td><td><a class="el" href="class_thread.html" title="Interface class for runnable objects. ">Thread</a> to switch to.</td></tr>
  </table>
  </dd>
</dl>
<p>Do a context switch to the new given thread. </p>

</div>
</div>
<a class="anchor" id="gabc3ea24600f8a7b491077f26ccbbd5c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrq.html">rq</a>* cpu_to_rq </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the RQ of the given cpu. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cpu</td><td><a class="el" href="class_c_p_u.html" title="Utility class to provide access to hardware. ">CPU</a> to get the run queue from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The run queue of <code>cpu</code>. </dd></dl>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__arch_a_p_i_gabc3ea24600f8a7b491077f26ccbbd5c8_cgraph.png" border="0" usemap="#group__arch_a_p_i_gabc3ea24600f8a7b491077f26ccbbd5c8_cgraph" alt=""/></div>
<map name="group__arch_a_p_i_gabc3ea24600f8a7b491077f26ccbbd5c8_cgraph" id="group__arch_a_p_i_gabc3ea24600f8a7b491077f26ccbbd5c8_cgraph">
<area shape="rect" id="node2" href="group__sched.html#gaa01fb719e9758591f358e30bfb4729ff" title="Get the global run queue. " alt="" coords="132,5,239,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3a7979c2e0c424ad4dd857e4fa455a12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void raw_irq_enabled_flags </td>
          <td>(</td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the interrupts are enabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>Flags argument.</td></tr>
  </table>
  </dd>
</dl>
<p>The <code>flags</code> argument will tell which interrupts are enabled. </p>

</div>
</div>
<a class="anchor" id="gaed72f26eb7fa076193388c2200e2571a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sched_create_stack_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stack_t *&#160;</td>
          <td class="paramname"><em>stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2etaos_2types_8h.html#a87dc151519afbd8c4fb19730a4b0e0db">size_t</a>&#160;</td>
          <td class="paramname"><em>stack_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__thread.html#gace878050e933ac56f0a7f858cba29dc6">thread_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the stack from of a thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td><a class="el" href="class_thread.html" title="Interface class for runnable objects. ">Thread</a> to setup a stack for. </td></tr>
    <tr><td class="paramname">stack</td><td>Pointer to the base of the stack. </td></tr>
    <tr><td class="paramname">stack_size</td><td>Length of <code>stack</code>. </td></tr>
    <tr><td class="paramname">handle</td><td>Function pointer to the thread handle. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__arch_a_p_i_gaed72f26eb7fa076193388c2200e2571a_cgraph.png" border="0" usemap="#group__arch_a_p_i_gaed72f26eb7fa076193388c2200e2571a_cgraph" alt=""/></div>
<map name="group__arch_a_p_i_gaed72f26eb7fa076193388c2200e2571a_cgraph" id="group__arch_a_p_i_gaed72f26eb7fa076193388c2200e2571a_cgraph">
<area shape="rect" id="node2" href="group__libc.html#gaa4075a014de11292d9105188ddbeb216" title="Fill a block of memory. " alt="" coords="192,13,261,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf680731a9b2e0753de2dfa185b0a13d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sched_free_stack_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a stack frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td><a class="el" href="class_thread.html" title="Interface class for runnable objects. ">Thread</a> to free the stackframe of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>The thread should NEVER be executed again after a call to this function. </dd></dl>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__arch_a_p_i_gaf680731a9b2e0753de2dfa185b0a13d2_cgraph.png" border="0" usemap="#group__arch_a_p_i_gaf680731a9b2e0753de2dfa185b0a13d2_cgraph" alt=""/></div>
<map name="group__arch_a_p_i_gaf680731a9b2e0753de2dfa185b0a13d2_cgraph" id="group__arch_a_p_i_gaf680731a9b2e0753de2dfa185b0a13d2_cgraph">
<area shape="rect" id="node2" href="group__libc.html#ga069f85a5001d71bc44d8be6532a4e432" title="Free an allocated memory region. " alt="" coords="219,5,269,32"/><area shape="rect" id="node3" href="group__mm.html#gac906c2d7849a485d955a895120068e12" title="Free a previously allocated memory region. " alt="" coords="317,5,391,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3ca01585011904bb8042cbb540be767e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structclocksource.html">clocksource</a>* sched_get_clock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the scheduling clock source. </p>
<dl class="section return"><dt>Returns</dt><dd>The scheduling clock source. </dd></dl>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__arch_a_p_i_ga3ca01585011904bb8042cbb540be767e_cgraph.png" border="0" usemap="#group__arch_a_p_i_ga3ca01585011904bb8042cbb540be767e_cgraph" alt=""/></div>
<map name="group__arch_a_p_i_ga3ca01585011904bb8042cbb540be767e_cgraph" id="group__arch_a_p_i_ga3ca01585011904bb8042cbb540be767e_cgraph">
<area shape="rect" id="node2" href="group__atmega.html#gac3ce4787ec47a3681c9a238d1117e151" title="Getter for the ATmega AVR system clock. " alt="" coords="173,5,291,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab090ee79717fcdd58de691ed935f6445"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrq.html">rq</a>* sched_select_rq </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select a run queue to add a thread to. </p>
<dl class="section return"><dt>Returns</dt><dd>The selected run queue.</dd></dl>
<p>The most effecient run queue is returned (i.e. the run queue with the least amount of threads already on it. </p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__arch_a_p_i_gab090ee79717fcdd58de691ed935f6445_cgraph.png" border="0" usemap="#group__arch_a_p_i_gab090ee79717fcdd58de691ed935f6445_cgraph" alt=""/></div>
<map name="group__arch_a_p_i_gab090ee79717fcdd58de691ed935f6445_cgraph" id="group__arch_a_p_i_gab090ee79717fcdd58de691ed935f6445_cgraph">
<area shape="rect" id="node2" href="group__sched.html#gaa01fb719e9758591f358e30bfb4729ff" title="Get the global run queue. " alt="" coords="171,5,277,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 17 2017 15:21:42 for ETA/OS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
