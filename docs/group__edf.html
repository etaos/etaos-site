<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ETA/OS: Earliest Deadline First scheduler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="etaos-logo.svg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ETA/OS
   &#160;<span id="projectnumber">4.5.0</span>
   </div>
   <div id="projectbrief">API reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__edf.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Earliest Deadline First scheduler<div class="ingroups"><a class="el" href="group__sched.html">Scheduling core</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Documentation for the (virtual) earliest deadline first algorithm.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Earliest Deadline First scheduler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__edf.png" border="0" alt="" usemap="#group____edf"/>
<map name="group____edf" id="group____edf">
<area shape="rect" id="node2" href="group__sched.html" title="ETA/OS scheduling support. " alt="" coords="5,15,120,49"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacd0b123b5be831d783e3907ca37026b9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__edf.html#gacd0b123b5be831d783e3907ca37026b9">edf_sort_before</a> (<a class="el" href="include_2etaos_2types_8h.html#a7f5991675a84025dc7c24754a9b257c0">time_t</a> node, <a class="el" href="include_2etaos_2types_8h.html#a7f5991675a84025dc7c24754a9b257c0">time_t</a> this)</td></tr>
<tr class="memdesc:gacd0b123b5be831d783e3907ca37026b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether or not a deadline occurrs before another.  <a href="#gacd0b123b5be831d783e3907ca37026b9">More...</a><br/></td></tr>
<tr class="separator:gacd0b123b5be831d783e3907ca37026b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1ee462fb5be9d722da7e3af2d7a7463"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="include_2etaos_2types_8h.html#a7f5991675a84025dc7c24754a9b257c0">time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__edf.html#gac1ee462fb5be9d722da7e3af2d7a7463">deadline</a> (struct <a class="el" href="structrr__entity.html">rr_entity</a> *entity)</td></tr>
<tr class="memdesc:gac1ee462fb5be9d722da7e3af2d7a7463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the deadline from a round robin entity.  <a href="#gac1ee462fb5be9d722da7e3af2d7a7463">More...</a><br/></td></tr>
<tr class="separator:gac1ee462fb5be9d722da7e3af2d7a7463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga811bd8bfdc8b3d06cfe2ca92d0ef8359"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__edf.html#ga811bd8bfdc8b3d06cfe2ca92d0ef8359">raw_edf_insert</a> (struct <a class="el" href="structthread.html">thread</a> *volatile *tpp, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga811bd8bfdc8b3d06cfe2ca92d0ef8359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a thread into a raw queue using EDF.  <a href="#ga811bd8bfdc8b3d06cfe2ca92d0ef8359">More...</a><br/></td></tr>
<tr class="separator:ga811bd8bfdc8b3d06cfe2ca92d0ef8359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae22b1a568a69431604d8a8757398b13b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__edf.html#gae22b1a568a69431604d8a8757398b13b">edf_add_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:gae22b1a568a69431604d8a8757398b13b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new thread to the run queue.  <a href="#gae22b1a568a69431604d8a8757398b13b">More...</a><br/></td></tr>
<tr class="separator:gae22b1a568a69431604d8a8757398b13b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bb0acf8f625ab5b2a4cf7a4637f3c8e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__edf.html#ga2bb0acf8f625ab5b2a4cf7a4637f3c8e">edf_rm_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga2bb0acf8f625ab5b2a4cf7a4637f3c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from a rq.  <a href="#ga2bb0acf8f625ab5b2a4cf7a4637f3c8e">More...</a><br/></td></tr>
<tr class="separator:ga2bb0acf8f625ab5b2a4cf7a4637f3c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeeff9109092b6c95569eee4c692f345f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structthread.html">thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__edf.html#gaeeff9109092b6c95569eee4c692f345f">edf_next_runnable</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>)</td></tr>
<tr class="memdesc:gaeeff9109092b6c95569eee4c692f345f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next runnable thread on the run queue.  <a href="#gaeeff9109092b6c95569eee4c692f345f">More...</a><br/></td></tr>
<tr class="separator:gaeeff9109092b6c95569eee4c692f345f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga177370072b179a0e57365d0da9d3dee4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__edf.html#ga177370072b179a0e57365d0da9d3dee4">edf_preempt_chk</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *cur)</td></tr>
<tr class="memdesc:ga177370072b179a0e57365d0da9d3dee4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current thread should be preempted.  <a href="#ga177370072b179a0e57365d0da9d3dee4">More...</a><br/></td></tr>
<tr class="separator:ga177370072b179a0e57365d0da9d3dee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga4b488aff64490029135f4b78e523b07f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4b488aff64490029135f4b78e523b07f"></a>
struct <a class="el" href="structsched__class.html">sched_class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__edf.html#ga4b488aff64490029135f4b78e523b07f">edf_class</a></td></tr>
<tr class="memdesc:ga4b488aff64490029135f4b78e523b07f"><td class="mdescLeft">&#160;</td><td class="mdescRight">EDF scheduling class. <br/></td></tr>
<tr class="separator:ga4b488aff64490029135f4b78e523b07f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Documentation for the (virtual) earliest deadline first algorithm. </p>
<h1><a class="anchor" id="principle"></a>
Prinicple</h1>
<p>The earliest deadline first algorithm is a realtime scheduling algorithm which uses deadlines (time) to determine the next thread to execute. For ETA/OS it is (probably) not possible to archive hard realtime using EDF because:</p>
<ul>
<li>The scheduling clock is not precise enough</li>
<li>It is extremely hard if not impossible to know before hand how long threads need to execute</li>
</ul>
<p>Therefore, it is a better solution to using virtual deadlines. This means that there is no guarantee whatsoever that the thread will be executed by the time the deadline expires, it is merely used to select the next thread for execution.</p>
<h1><a class="anchor" id="prios"></a>
Priorities</h1>
<p>Priorities can be handled by using so called <em>priority</em> <em>ratios</em>. A priority is calculated using the nice value of a thread with the following formula:</p>
<p><img class="formulaInl" alt="$f(p) = \frac{13p}{24} + 10$" src="form_7.png"/></p>
<p>Where:</p>
<ul>
<li>p is the nice value of the thread</li>
</ul>
<p>The actual deadline can then be calculated using:</p>
<p><img class="formulaInl" alt="$D = t + f(p)$" src="form_8.png"/></p>
<p>Where:</p>
<ul>
<li>D is the deadline</li>
<li>t is currently tick on the scheduling clock </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac1ee462fb5be9d722da7e3af2d7a7463"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="include_2etaos_2types_8h.html#a7f5991675a84025dc7c24754a9b257c0">time_t</a> deadline </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrr__entity.html">rr_entity</a> *&#160;</td>
          <td class="paramname"><em>entity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the deadline from a round robin entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entity</td><td>Round robin entity to get the deadline from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The deadline stored in <code>entity</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="gae22b1a568a69431604d8a8757398b13b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void edf_add_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a new thread to the run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue to add to. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to add. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__edf_gae22b1a568a69431604d8a8757398b13b_cgraph.png" border="0" usemap="#group__edf_gae22b1a568a69431604d8a8757398b13b_cgraph" alt=""/></div>
<map name="group__edf_gae22b1a568a69431604d8a8757398b13b_cgraph" id="group__edf_gae22b1a568a69431604d8a8757398b13b_cgraph">
<area shape="rect" id="node3" href="group__edf.html#ga811bd8bfdc8b3d06cfe2ca92d0ef8359" title="Insert a thread into a raw queue using EDF. " alt="" coords="165,89,272,122"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#ga3ca01585011904bb8042cbb540be767e" title="Get the scheduling clock source. " alt="" coords="320,5,440,38"/><area shape="rect" id="node9" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="348,61,412,94"/><area shape="rect" id="node11" href="group__edf.html#gacd0b123b5be831d783e3907ca37026b9" title="Check whether or not a deadline occurrs before another. " alt="" coords="324,117,436,150"/><area shape="rect" id="node13" href="group__edf.html#gac1ee462fb5be9d722da7e3af2d7a7463" title="Get the deadline from a round robin entity. " alt="" coords="345,173,415,206"/><area shape="rect" id="node7" href="group__atmega.html#gac3ce4787ec47a3681c9a238d1117e151" title="Getter for the ATmega AVR system clock. " alt="" coords="488,5,605,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaeeff9109092b6c95569eee4c692f345f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structthread.html">thread</a>* edf_next_runnable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the next runnable thread on the run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>RQ to get the next runnable thread from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The next runnable thread. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no runnable thread was found. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__edf_gaeeff9109092b6c95569eee4c692f345f_cgraph.png" border="0" usemap="#group__edf_gaeeff9109092b6c95569eee4c692f345f_cgraph" alt=""/></div>
<map name="group__edf_gaeeff9109092b6c95569eee4c692f345f_cgraph" id="group__edf_gaeeff9109092b6c95569eee4c692f345f_cgraph">
<area shape="rect" id="node3" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="183,5,247,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga177370072b179a0e57365d0da9d3dee4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> edf_preempt_chk </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>cur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the current thread should be preempted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>The run queue we're on. </td></tr>
    <tr><td class="paramname">cur</td><td>The current thread. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if <code>cur</code> should be preempted, false otherwise.</dd></dl>
<p>This function only checks if the thread should be preempted according to the EDF principles. It has no regard to the time slice (__schedule handles time slice preemption). </p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__edf_ga177370072b179a0e57365d0da9d3dee4_cgraph.png" border="0" usemap="#group__edf_ga177370072b179a0e57365d0da9d3dee4_cgraph" alt=""/></div>
<map name="group__edf_ga177370072b179a0e57365d0da9d3dee4_cgraph" id="group__edf_ga177370072b179a0e57365d0da9d3dee4_cgraph">
<area shape="rect" id="node3" href="group__edf.html#gaeeff9109092b6c95569eee4c692f345f" title="Get the next runnable thread on the run queue. " alt="" coords="176,5,304,38"/><area shape="rect" id="node7" href="group__edf.html#gacd0b123b5be831d783e3907ca37026b9" title="Check whether or not a deadline occurrs before another. " alt="" coords="184,61,296,94"/><area shape="rect" id="node9" href="group__edf.html#gac1ee462fb5be9d722da7e3af2d7a7463" title="Get the deadline from a round robin entity. " alt="" coords="205,117,275,150"/><area shape="rect" id="node5" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="353,5,417,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2bb0acf8f625ab5b2a4cf7a4637f3c8e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int edf_rm_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a thread from a rq. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue to remove from. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-EOK</td><td>on success. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-EINVAL on error (no thread was removed). </dd></dl>

</div>
</div>
<a class="anchor" id="gacd0b123b5be831d783e3907ca37026b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> edf_sort_before </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2etaos_2types_8h.html#a7f5991675a84025dc7c24754a9b257c0">time_t</a>&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2etaos_2types_8h.html#a7f5991675a84025dc7c24754a9b257c0">time_t</a>&#160;</td>
          <td class="paramname"><em>this</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether or not a deadline occurrs before another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Deadline of a node already in the run queue. </td></tr>
    <tr><td class="paramname">this</td><td>Deadline to check against <code>node</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if this &lt;= node, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga811bd8bfdc8b3d06cfe2ca92d0ef8359"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int raw_edf_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *volatile *&#160;</td>
          <td class="paramname"><em>tpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert a thread into a raw queue using EDF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpp</td><td>Raw queue pointer to insert into. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread pointer to insert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code (-EOK on success). </dd></dl>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__edf_ga811bd8bfdc8b3d06cfe2ca92d0ef8359_cgraph.png" border="0" usemap="#group__edf_ga811bd8bfdc8b3d06cfe2ca92d0ef8359_cgraph" alt=""/></div>
<map name="group__edf_ga811bd8bfdc8b3d06cfe2ca92d0ef8359_cgraph" id="group__edf_ga811bd8bfdc8b3d06cfe2ca92d0ef8359_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#ga3ca01585011904bb8042cbb540be767e" title="Get the scheduling clock source. " alt="" coords="160,5,280,38"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="188,61,252,94"/><area shape="rect" id="node9" href="group__edf.html#gacd0b123b5be831d783e3907ca37026b9" title="Check whether or not a deadline occurrs before another. " alt="" coords="164,117,276,150"/><area shape="rect" id="node11" href="group__edf.html#gac1ee462fb5be9d722da7e3af2d7a7463" title="Get the deadline from a round robin entity. " alt="" coords="185,173,255,206"/><area shape="rect" id="node5" href="group__atmega.html#gac3ce4787ec47a3681c9a238d1117e151" title="Getter for the ATmega AVR system clock. " alt="" coords="328,5,445,38"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Oct 12 2016 21:26:04 for ETA/OS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
